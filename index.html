<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Year Checklist</title>
    <style>
      body {
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background-attachment: fixed;
        font-family: Georgia, serif;
      }
      #canvas {
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        cursor: pointer;
        background-color: #fff;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas" width="800" height="1100"></canvas>

    <script>
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");

      const checkedItems = new Set();
      const centerX = 400;
      const startY = 145;
      const itemSpacing = 31.5;
      const listWidth = 660;
      const columnGap = 40;

      const leftColX = centerX - listWidth / 2;
      const rightColX = centerX + columnGap;

      // button
      const btnY = 1040;
      const btnWidth = 160;
      const btnHeight = 40;
      const btnGap = 100;
      const totalBtnsWidth = btnWidth * 2 + btnGap;
      const clearBtnX = centerX - totalBtnsWidth / 2;
      const dlBtnX = clearBtnX + btnWidth + btnGap;

      const leftItems = [
        "Travelled to a different state ðŸ—ºï¸",
        "Laughed a lot ðŸ¤£",
        "Made a big decision âš–ï¸",
        "Got drunk ðŸ»",
        "Hugged someone ðŸ«‚",
        "Cried ðŸ˜­",
        "Got robbed ðŸ¥·",
        "Went to the Gym ðŸ‹â€â™‚ï¸",
        "Kissed someone ðŸ’‹",
        "Got heartbroken ðŸ’”",
        "Had a crush on someone ðŸ¥°",
        "Lost someone special ðŸ˜¢",
        "Dyed your hair ðŸ’‡â€â™€ï¸",
        "Went on a date ðŸŒ¹",
        "Danced in public ðŸ’ƒ",
        "Read a book ðŸ“–",
        "Went to the cinema ðŸ¿",
        "Travelled to a different country âœˆï¸",
        "Relocated ðŸ ",
        "Went to the beach ðŸ–",
        'Said "I Love You" â¤ï¸',
        "Got a tattoo ðŸ‰",
        "Got a piercing ðŸ“",
        "Loaned someone money ðŸ’¸",
        "Travelled by train ðŸš‚",
        "Placed a bet ðŸŽ²",
        "Partied hard ðŸ¥³",
        "Had a baby ðŸ‘¶"
      ];

      const rightItems = [
        "Regretted something ðŸ¤¦â€â™‚ï¸",
        "Learnt to play an instrument ðŸŽ·",
        "Learnt a new skill ðŸŽ“",
        "Started a new hobby ðŸŽ¨",
        "Volunteered ðŸ§¡",
        "Exercised ðŸƒâ€â™‚ï¸",
        "Saved money ðŸ’°",
        "Had an adventure ðŸŽ¢",
        "Took a course ðŸ“š",
        "Went to a park ðŸŒ³",
        "Went to a festival ðŸŽª",
        "Hung out with friends ðŸ¥‚",
        "Went to church â›ªï¸",
        "Bought something on impulse ðŸ›",
        "Got a new job ðŸ’¼",
        "Started a new project ðŸ¥½",
        "Got married ðŸ’",
        "Changed jobs ðŸ”ƒ",
        "Played a new game ðŸŽ®",
        "Invested ðŸ“ˆ",
        "Borrowed money ðŸ¤²",
        "Started a new business ðŸ“‡",
        "Fell in love ðŸ’˜",
        "Held multiple jobs ðŸ¤¹â€â™‚ï¸",
        "Went to a concert ðŸŽ¸",
        "Watched a complete series ðŸŽ¬",
        "Made a new friend ðŸ¤",
        "Went to a mall ðŸ¬"
      ];

      const drawBackground = () => {
        // gradient
        const grad = ctx.createLinearGradient(0, 0, 0, 1100);
        grad.addColorStop(0, "#FFB6D9");
        grad.addColorStop(0.3, "#D5AAFF");
        grad.addColorStop(0.6, "#A8E6CF");
        grad.addColorStop(1, "#FFD3B6");
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, 800, 1100);

        // decorative circles
        const circles = [
          { x: 100, y: 200, r: 150, color: "rgba(255, 255, 255, 0.15)" },
          { x: 700, y: 400, r: 200, color: "rgba(255, 182, 193, 0.2)" },
          { x: 150, y: 800, r: 180, color: "rgba(255, 255, 255, 0.1)" },
          { x: 650, y: 1000, r: 160, color: "rgba(168, 230, 207, 0.2)" },
        ];
        circles.forEach((c) => {
          ctx.fillStyle = c.color;
          ctx.beginPath();
          ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
          ctx.fill();
        });

        // headers
        ctx.textAlign = "center";
        ctx.fillStyle = "#000000";
        ctx.font = "bold 38px Verdana";
        ctx.fillText("ðŸŒŸ Things I Did This Year ðŸŒŸ", centerX, 60);

        ctx.font = "italic 14px Monaco";
        ctx.fillText(
          "Click the checkboxes to mark what you've done!",
          centerX,
          95
        );

        const count = checkedItems.size;
        ctx.font = "italic 14px Georgia";
        ctx.fillText(`(${count} / ${leftItems.length + rightItems.length} completed)`, centerX, 120);

        // horizontal divider
        ctx.strokeStyle = "#000000";
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(centerX - 330, 130);
        ctx.lineTo(centerX + 330, 130);
        ctx.stroke();

        // vertical divider
        ctx.strokeStyle = "rgba(0,0,0,0.15)";
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(centerX, 145);
        ctx.lineTo(centerX, 980);
        ctx.stroke();

        // buttons
        drawCanvasButton(clearBtnX, btnY, "ðŸ—‘ï¸ Clear All", "#ee120a");
        drawCanvasButton(dlBtnX, btnY, "ðŸ“¥ Download", "#667eea");
      };

      const drawCanvasButton = (x, y, label, color) => {
        ctx.strokeStyle = color;
        ctx.lineWidth = 2;
        ctx.fillStyle = "rgba(255, 255, 255, 0.4)";
        ctx.beginPath();
        ctx.roundRect(x, y, btnWidth, btnHeight, 20);
        ctx.fill();
        ctx.stroke();

        ctx.fillStyle = color;
        ctx.font = "bold 14px Arial";
        ctx.textAlign = "center";
        ctx.fillText(label, x + btnWidth / 2, y + 25);
      };

      const drawCheckbox = (x, y, checked) => {
        ctx.strokeStyle = "#000000";
        ctx.lineWidth = 2;
        ctx.strokeRect(x, y, 16, 16);
        if (checked) {
          ctx.strokeStyle = "#FF0000";
          ctx.lineWidth = 4;
          ctx.lineCap = "round";
          ctx.beginPath();
          ctx.moveTo(x - 4, y + 10);
          ctx.lineTo(x + 4, y + 15);
          ctx.lineTo(x + 20, y - 3);
          ctx.stroke();
        }
      };

      const redraw = () => {
        ctx.clearRect(0, 0, 800, 1100);
        drawBackground();

        ctx.textAlign = "left";
        ctx.fillStyle = "#000000";
        ctx.font = "14px Geneva";

        // Left Column
        leftItems.forEach((item, i) => {
          const y = startY + i * itemSpacing;
          drawCheckbox(leftColX, y, checkedItems.has("left-" + i));
          ctx.fillText(item, leftColX + 32, y + 14);
        });

        // Right Column
        rightItems.forEach((item, i) => {
          const y = startY + i * itemSpacing;
          drawCheckbox(rightColX, y, checkedItems.has("right-" + i));
          ctx.fillText(item, rightColX + 32, y + 14);
        });
      };

      canvas.addEventListener("click", (e) => {
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        // clear all button
        if (
          x >= clearBtnX &&
          x <= clearBtnX + btnWidth &&
          y >= btnY &&
          y <= btnY + btnHeight
        ) {
          if (confirm("Are you sure you want to clear your entire list?")) {
            checkedItems.clear();
            redraw();
          }
          return;
        }

        // download button
        if (
          x >= dlBtnX &&
          x <= dlBtnX + btnWidth &&
          y >= btnY &&
          y <= btnY + btnHeight
        ) {
          const link = document.createElement("a");
          link.download = "my-year-checklist.png";
          link.href = canvas.toDataURL();
          link.click();
          return;
        }

        // checkboxes
        [leftItems, rightItems].forEach((list, col) => {
          const xPos = col === 0 ? leftColX : rightColX;
          list.forEach((_, i) => {
            const yPos = startY + i * itemSpacing;

            if (
              x >= xPos - 5 &&
              x <= xPos + 23 &&
              y >= yPos - 5 &&
              y <= yPos + 23
            ) {
              const id = (col === 0 ? "left-" : "right-") + i;
              checkedItems.has(id)
                ? checkedItems.delete(id)
                : checkedItems.add(id);
              redraw();
            }
          });
        });
      });

      redraw();
    </script>
  </body>
</html>
